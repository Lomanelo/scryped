<!DOCTYPE html>
<html>
<head>
    <title>Browser Console Capture Test</title>
    <style>
        body { 
            font-family: 'Courier New', monospace; 
            background: #1a1a1a; 
            color: #00ff00; 
            padding: 20px;
            font-size: 12px;
        }
        .log { 
            margin: 4px 0; 
            padding: 4px 8px;
            border-left: 3px solid #00ff00;
        }
        .error { 
            color: #ff4444; 
            border-left-color: #ff4444;
            font-weight: bold;
        }
        .warn { 
            color: #ffaa00; 
            border-left-color: #ffaa00;
        }
        .info { 
            color: #4af; 
            border-left-color: #4af;
        }
        #output {
            background: #000;
            padding: 15px;
            border: 2px solid #00ff00;
            min-height: 300px;
            max-height: 600px;
            overflow-y: auto;
        }
        h2 { color: #0f0; margin-top: 0; }
        .timestamp { color: #888; margin-right: 10px; }
    </style>
</head>
<body>
    <h2>âš¡ PusherMoney Browser Console Capture</h2>
    <div id="output"></div>
    <iframe src="http://localhost:3000" style="width:100%; height:400px; border: 2px solid #00ff00; margin-top: 20px;"></iframe>

    <script>
        const output = document.getElementById('output');
        
        function addLog(msg, type = 'log') {
            const time = new Date().toLocaleTimeString();
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.innerHTML = `<span class="timestamp">${time}</span>${msg}`;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
        }

        // Capture console
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        const originalInfo = console.info;

        console.log = function(...args) {
            originalLog.apply(console, args);
            addLog(args.join(' '), 'log');
        };

        console.error = function(...args) {
            originalError.apply(console, args);
            addLog('ERROR: ' + args.join(' '), 'error');
        };

        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addLog('WARN: ' + args.join(' '), 'warn');
        };

        console.info = function(...args) {
            originalInfo.apply(console, args);
            addLog('INFO: ' + args.join(' '), 'info');
        };

        // Capture window errors
        window.addEventListener('error', (e) => {
            addLog(`UNCAUGHT ERROR: ${e.message} at ${e.filename}:${e.lineno}`, 'error');
        });

        // Capture unhandled promise rejections
        window.addEventListener('unhandledrejection', (e) => {
            addLog(`UNHANDLED PROMISE REJECTION: ${e.reason}`, 'error');
        });

        addLog('Console capture initialized', 'info');
        addLog('Loading game in iframe below...', 'info');

        // Listen to iframe console (won't work due to same-origin, but worth trying)
        setTimeout(() => {
            addLog('If you see the game arena below, the page loaded successfully!', 'info');
            addLog('Check the iframe for visual rendering.', 'info');
        }, 1000);
    </script>
</body>
</html>
